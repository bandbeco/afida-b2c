<%# Turbo Frame response showing variants for a category %>
<%= turbo_frame_tag "category_#{category.id}" do %>
  <div class="p-6 pt-0 border-t border-base-200">
    <% if variants.any? %>
      <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 p-1">
        <% variants.each do |variant| %>
          <%
            is_sample_in_cart = sample_variant_ids.include?(variant.id)
            is_regular_in_cart = regular_variant_ids.include?(variant.id)
          %>
          <%= render "samples/variant_card",
                     variant: variant,
                     in_cart: is_sample_in_cart || is_regular_in_cart,
                     is_sample_in_cart: is_sample_in_cart,
                     is_regular_in_cart: is_regular_in_cart,
                     at_limit: sample_count >= Cart::SAMPLE_LIMIT %>
        <% end %>
      </div>
    <% else %>
      <p class="text-center text-base-content/70 py-4">
        No samples available in this category.
      </p>
    <% end %>
  </div>
<% end %>
